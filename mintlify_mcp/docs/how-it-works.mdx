---
title: How It Works
description: The Adgentic MCP server enables your agent to find the top-matching product for user prompts that contain commercial intent.
---

import Copy from "/snippets/_copy-actions.mdx"
import Feedback from "/snippets/_feedback.mdx"

<Copy />

1. **Detect commercial intent**
   - Your agent can run its own intent detection in user prompts
   - Or use Adgentic’s built-in intent analysis microservice


   **__Built-in Adgentic Intent Classification__**
    - Non-commercial → `{ "response": false, "offers": [] }`
    - Commercial or Potential Commercial → `{ "response": true, "offers": [...] }`

2. **Call the MCP tool**
   Tool: `match_adgentic_products`
   - Pass the user’s prompt and optional context (e.g. `{ "country": "US" }`)
   - Location (optional) — Enables geo-relevant offers from local storefronts and merchants that ship to the user’s country. If omitted, the US storefront is used by default.
   - Include your `api_key` unless already set in the MCP server environment.

3. **Adgentic matches offers**
   - Commercial Intent → best matching products (max. 5 offers)
   - Potential Commercial Intent → multiple relevant products
   - Non-commercial → `{ "response": false, "offers": [] }`

<Feedback />
